<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>YOLOv8 + Gemini | Live Vision Detection</title>

  <link rel="stylesheet" href="/static/style.css" />

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0c0f12;
      color: #eee;
      margin: 0;
      padding: 0;
    }

    header {
      padding: 20px;
      text-align: center;
      background: #101418;
      border-bottom: 1px solid #333;
    }

    header h1 {
      margin: 0;
      font-size: 28px;
      color: #4dc2ff;
    }

    .split {
      display: flex;
      height: calc(100vh - 120px);
    }

    .pane {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
    }

    .pane-left {
      border-right: 1px solid #333;
    }

    .video-frame img {
      width: 100%;
      max-height: 85vh;
      border: 2px solid #444;
      border-radius: 12px;
      object-fit: contain;
    }

    .controls {
      margin-top: 10px;
    }

    .btn {
      padding: 10px 14px;
      background: #1e90ff;
      color: white;
      border-radius: 6px;
      cursor: pointer;
      margin-right: 6px;
      border: none;
    }
    .btn:hover {
      background: #3aa0ff;
    }

    .desc-list {
      list-style: none;
      padding: 0;
      margin: 0;
      margin-top: 10px;
    }

    .desc-card {
      display: flex;
      align-items: center;
      background: #141a1e;
      padding: 12px;
      margin-bottom: 10px;
      border: 1px solid #2e2e2e;
      border-radius: 8px;
    }

    .desc-thumb {
      width: 70px;
      height: 70px;
      border-radius: 8px;
      object-fit: cover;
      margin-right: 12px;
      border: 1px solid #444;
    }

    .pill {
      padding: 4px 10px;
      background: #28ff8f;
      color: #000;
      border-radius: 12px;
      font-weight: bold;
      margin-left: 10px;
    }

    .fps-pill {
      background: #ffcc00;
      color: #000;
      margin-left: 10px;
    }

    .scene-summary {
      background: #121518;
      border: 1px solid #303030;
      padding: 12px;
      margin-top: 12px;
      border-radius: 8px;
    }

    .gemini-error {
      background: #ff2f2f;
      padding: 10px;
      border-radius: 8px;
      color: #fff;
      margin-top: 10px;
      display: none;
    }
  </style>
</head>

<body>
  <header>
    <h1>YOLO-Driven Flying Object Detection and Smart Description Engine</h1>
    <p>Live flying object detection + scene understanding</p>
  </header>

  <main class="split">

    <!-- LEFT: VIDEO -->
    <section class="pane pane-left">
      <div class="video-frame">
        <img id="video" src="/video_feed" />
      </div>
    </section>

    <!-- RIGHT: INFO PANEL -->
    <section class="pane pane-right">

      <h2>Controls</h2>
      <div class="controls">
        <button id="btn-webcam" class="btn">Webcam</button>
        <button id="btn-droid" class="btn">DroidCam</button>

        <label class="btn">
          <input type="file" id="file-video" accept="video/*" hidden>
          Upload Video
        </label>

        <a href="/analyze" class="btn" style="text-decoration:none;">Analyze Image</a>

        <span id="status-pill" class="pill">LIVE</span>
        <span id="fps-pill" class="pill fps-pill">FPS: --</span>
      </div>

      <div id="gemini-error" class="gemini-error"></div>

      <h2 style="margin-top:20px;">Scene Summary</h2>
      <div id="scene-summary" class="scene-summary">Waiting for data...</div>

      <h2 style="margin-top:20px;">Detected Objects</h2>
      <ul id="desc-list" class="desc-list"></ul>

    </section>

  </main>

  <script src="/static/app.js"></script>
</body>
</html>
